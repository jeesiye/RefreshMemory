`java.io.RandomAccessFile`结构概述:  
```java
// (1)
// 该常规类,实现了DataInput和DataOutput接口.
// (2)
// 而且其内部的read(),read(byte[]),read(byte[],int,int),
// 以及write(int),write(byte[]),write(byte[],int,int)
// 这6个方法,虽然不是从InputStream和OutputStream中继承的,但是在底层的本地方法中,
// 调用的是却是同一个方法.
// (3)
// 里面的基于二进制的读写函数,内部都是基于read和write函数,并加之位运算来实现的.  
// (4)
// 该类中,最核心的方法就是`seek(long)`函数,涉及到流的下标.  
public class java.io.RandomAccessFile implements java.io.DataOutput,java.io.DataInput,java.io.Closeable {
  public java.io.RandomAccessFile(java.lang.String, java.lang.String) throws java.io.FileNotFoundException;
  public java.io.RandomAccessFile(java.io.File, java.lang.String) throws java.io.FileNotFoundException;
  public final java.io.FileDescriptor getFD() throws java.io.IOException;
  public final java.nio.channels.FileChannel getChannel();
  public int read() throws java.io.IOException;
  public int read(byte[], int, int) throws java.io.IOException;
  public int read(byte[]) throws java.io.IOException;
  public final void readFully(byte[]) throws java.io.IOException;
  public final void readFully(byte[], int, int) throws java.io.IOException;
  public int skipBytes(int) throws java.io.IOException;
  public void write(int) throws java.io.IOException;
  public void write(byte[]) throws java.io.IOException;
  public void write(byte[], int, int) throws java.io.IOException;
  public native long getFilePointer() throws java.io.IOException;
  public void seek(long) throws java.io.IOException;
  public native long length() throws java.io.IOException;
  public native void setLength(long) throws java.io.IOException;
  public void close() throws java.io.IOException;
  public final boolean readBoolean() throws java.io.IOException;
  public final byte readByte() throws java.io.IOException;
  public final int readUnsignedByte() throws java.io.IOException;
  public final short readShort() throws java.io.IOException;
  public final int readUnsignedShort() throws java.io.IOException;
  public final char readChar() throws java.io.IOException;
  public final int readInt() throws java.io.IOException;
  public final long readLong() throws java.io.IOException;
  public final float readFloat() throws java.io.IOException;
  public final double readDouble() throws java.io.IOException;
  public final java.lang.String readLine() throws java.io.IOException;
  public final java.lang.String readUTF() throws java.io.IOException;
  public final void writeBoolean(boolean) throws java.io.IOException;
  public final void writeByte(int) throws java.io.IOException;
  public final void writeShort(int) throws java.io.IOException;
  public final void writeChar(int) throws java.io.IOException;
  public final void writeInt(int) throws java.io.IOException;
  public final void writeLong(long) throws java.io.IOException;
  public final void writeFloat(float) throws java.io.IOException;
  public final void writeDouble(double) throws java.io.IOException;
  public final void writeBytes(java.lang.String) throws java.io.IOException;
  public final void writeChars(java.lang.String) throws java.io.IOException;
  public final void writeUTF(java.lang.String) throws java.io.IOException;
}
```  

---

关于`RandomAccessFile`的方法概述:  
方法的具体使用,参见doc说明即可使用.  
该接口提供的功能可大致分为两类:一类是基于字节的简单读取操作;  
一类是基于基本类型等二进制操作(内部使用位运算实现).  
下面这个例子可以很好的理解`RandomAccessFile`的操作:  
```java
public static void main(String[] args) {
	try (RandomAccessFile raf = new RandomAccessFile(new File("files"), "rw");) {
		raf.write(97);
		raf.write(97);
		raf.write(97);
		raf.seek(0);// 把这条语句注释掉,执行结果是否会产生变化.
		byte[] bytes = new byte[8];
		int size = raf.read(bytes);
		System.out.println(size);// out:3
		System.out.println(Arrays.toString(bytes));// out:[97, 97, 97, 0, 0, 0, 0, 0]
	} catch (Exception e) {
	}
}
```  
---

`RandomAccessFile`和`FileInputStream`,`FileOutputStream`有什么本质的区别吗?
- 定义上有区别:  
  前者是实现`DataInput`,`DataOutput`接口,后者则是实现`InputStream`,`OutputStream`抽象类.  
- 功能上有区别:  
  前者对外提供统一的接口,既支持给予字节的读写操作,又支持基于基本类型,字符等的读写操作,比后者强大.  
  后者对外提供的接口是规范划分的,清晰各自的职责所在,分别提供基于读取的实现类,和基于写入的实现类.  
- 底层实现上是没有太大的区别的:  
  在openjdk-jdk8的参考中,两者本质上最终调用的是同一个函数.  
  打开文件的方式,都是调用了`fileOpen`函数;  
  读取文件的方式,都是调用了`readSingle`和`readBytes`函数;  
  写入文件的方式,都是调用了`writeSingle`和`writeBytes`函数;等等.  
